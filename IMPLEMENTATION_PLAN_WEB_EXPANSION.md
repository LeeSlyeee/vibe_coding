# 웹 프론트엔드 기능 이식 계획서 (iOS to Web)

## 📅 개요

본 문서는 iOS 앱(`MindDiaryApp`)에서 구현된 **B2G 하이브리드 연동** 및 **개발자 데이터 시더** 기능을 웹 프론트엔드(`frontend`) 환경에 이식하기 위한 상세 구현 계획을 기술합니다. iOS의 On-Device 경험을 웹 환경(Vue.js)에 맞게 재해석하여 동일한 사용자 경험(UX)을 제공하는 것을 목표로 합니다.

## 📌 목표 기능

1.  **B2G 기관 연동 (설정 페이지)**
    - 보건소/상담센터 연동 코드 입력 인터페이스
    - 연동 성공 시 시각적 피드백 (초록색 체크, 연동 상태 표시)
    - 백그라운드 데이터 동기화 시뮬레이션
2.  **개발자 모드 (Data Seeder)**
    - 버튼 클릭 한 번으로 지난 14일치 가상 일기 데이터 생성
    - 시연 및 테스트 용도의 더미 데이터 자동 적재 (백엔드 API 연동)
3.  **UI/UX 통일**
    - 하단 네비게이션 바 구조 변경 (MY → 설정)
    - iOS 앱과 유사한 '설정' 페이지 레이아웃 구현

---

## 🛠 구현 상세 (Implementation Steps)

### Step 1. 서비스 로직 구현

iOS의 `Manager` 클래스 역할을 하는 JS 서비스 모듈을 생성합니다.

#### 1-1. `services/B2GService.js`

- **역할**: 기관 코드 관리 및 가상 동기화 처리
- **기능**:
  - `connect(code)`: 코드 유효성 검증 (Prefix: 'SEOUL', 'TEST' 등 체크)
  - `disconnect()`: 로컬 스토리지에서 연동 정보 삭제
  - `syncData()`: `console.log`를 통한 데이터 전송 시뮬레이션
- **저장소**: `localStorage` 활용 (`b2g_link_status`, `center_code`)

#### 1-2. `services/DataSeeder.js`

- **역할**: 가상 일기 생성 및 DB 적재
- **기능**:
  - `seedDummyData()`: 지난 14일 날짜 생성 루프
  - `generateContent(mood)`: 감정 점수별(1~5) 그럴듯한 일기 텍스트 생성
  - **API 호출**: `axios.post('/api/diaries')`를 사용하여 실제 백엔드 DB에 저장

---

### Step 2. 뷰(View) 및 UI 구현

새로운 페이지와 컴포넌트를 추가합니다.

#### 2-1. `views/SettingsPage.vue` (신규)

- **구조**:
  - **섹션 1 [내 정보]**: 현재 로그인한 사용자 닉네임/이메일 표시
  - **섹션 2 [기관 연동]**:
    - 미연동 시: 코드 입력 `TextField` + `연결` 버튼
    - 연동 시: "보건소 연동됨" 카드 + `해제` 버튼
  - **섹션 3 [앱 정보]**: 버전 정보 및 `[개발자용] 데이터 생성` 버튼 (하단 배치)
  - **섹션 4 [계정]**: 로그아웃 버튼 (기존 하단 탭 `MY` 기능을 이곳으로 이동)

#### 2-2. 네비게이션 구조 변경 (`App.vue`)

- **하단 탭바**:
  - 기존: `일기` | `분석` | `약물` | `가이드` | `MY(로그아웃)`
  - 변경: `일기` | `분석` | `약물` | `가이드` | **`설정(⚙️)`**
- **라우팅**: `/settings` 경로 추가 및 아이콘 변경

---

### Step 3. 통합 및 라우팅 설정

#### 3-1. `router/index.js`

- `/settings` 경로 정의
- `SettingsPage` 컴포넌트 레이지 로딩(`import()`) 적용
- 인증 가드(`requiresAuth`) 적용

---

## ✅ 검증 계획 (Testing)

1.  **연동 테스트**:
    - `설정` 탭 진입 → 코드 `SEOUL-TEST` 입력 → `연결` 클릭
    - "기관과 연동되었습니다" 알림 및 UI 상태 변경 확인
2.  **데이터 생성 테스트**:
    - 하단 `[개발자용] 테스트 데이터 생성` 버튼 클릭
    - "14개의 일기가 생성되었습니다" 알림 확인
    - `일기(캘린더)` 탭 및 `분석` 탭으로 이동하여 그래프/캘린더가 꽉 찼는지 확인
3.  **로그아웃 테스트**:
    - 설정 페이지 내 `로그아웃` 버튼 작동 확인

---

**작성일**: 2026.01.27
**작성자**: Vibe Coding Agent
